<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECC Signature - Website Belajar Blockchain</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="globals.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrsasign/10.9.0/jsrsasign.min.js"></script>
    <style>
        .page-content-wrapper { position: relative; z-index: 10; padding-top: 150px; padding-bottom: 50px; max-width: 1000px; margin: 0 auto; color: #fff; }
        .card { background: rgba(30, 40, 70, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(0, 243, 156, 0.2); margin-bottom: 20px; padding: 20px; border-radius: 10px; }
        .key-box textarea, #messageInput, #signatureOutput { background: #fff; color: #333; width: 100%; border-radius: 5px; padding: 10px; }
        .explanation-content h3 { color: #00F39C; margin-top: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .explanation-content ul, .explanation-content ol { padding-left: 20px; color: #ddd; }
        .main-button { background: #e67e22; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-bottom: 15px; }
    </style>
</head>
<body>
    <div class="desktop">
        <img class="gradient" src="images/gradient.jpg" style="height: 100%; position: fixed; object-fit: cover;" />

        <div class="text-wrapper"><a href="index.html">BlockChain</a></div>
        <div class="div"><a href="about.html">About Me</a></div>
        <div class="text-wrapper-2"><a href="index.html">Home</a></div>
        <div class="text-wrapper-3"><a href="hash.html">Hash</a></div>
        <div class="text-wrapper-4"><a href="block.html">Block</a></div>
        <div class="text-wrapper-5"><a href="blockchain.html">Block Chain</a></div>
        <div class="text-wrapper-6"><a href="ecc_signature.html" style="color: #00F39C; font-weight: 700;">ECC Signature</a></div>
        <div class="text-wrapper-7"><a href="consensus.html">Konsensus</a></div>

        <div class="page-content-wrapper container">
            <h2 style="text-align: center; border:none;">Simulasi ECC Signature</h2>
            
            <section class="card">
                <h3 style="color:white;">1. Generate Key Pair</h3>
                <button id="generateKeyButton" class="main-button">Generate Key Pair</button>
                <div style="display: flex; gap: 20px; margin-top: 10px;">
                    <div style="flex:1;"><label style="color:#00F39C">Private Key (Rahasia):</label><textarea id="privateKey" rows="4" readonly></textarea></div>
                    <div style="flex:1;"><label style="color:#00F39C">Public Key (Dibagikan):</label><textarea id="publicKey" rows="4" readonly></textarea></div>
                </div>
            </section>

            <section class="card">
                <h3 style="color:white;">2. Sign Message</h3>
                <div style="margin-bottom: 15px;"><label style="color:#00F39C">Pesan:</label><textarea id="messageInput" rows="3" placeholder="Tulis pesan..."></textarea></div>
                <button id="signButton" class="main-button" disabled>Sign Message</button>
                <div><label style="color:#00F39C">Signature:</label><textarea id="signatureOutput" rows="2" readonly></textarea></div>
            </section>

            <section class="card">
                <h3 style="color:white;">3. Verify Signature</h3>
                <button id="verifyButton" class="main-button" style="background: #27ae60;" disabled>Verify Signature</button>
                <div id="verificationResult" class="status-message" style="margin-top: 10px; font-weight: bold;"></div>
            </section>

            <section class="card explanation-content" style="background: rgba(10, 14, 39, 0.8); backdrop-filter: blur(10px); padding: 30px; border-radius: 10px;">
                <h2 style="text-align: left; margin-bottom: 10px;">Pembelajaran & Cara Menggunakan</h2>
                
                <h3>Cara Menggunakan</h3>
                <ol>
                    <li><strong>Generate Keys:</strong> Buat pasangan kunci. Private Key (disimpan sendiri) dan Public Key (disebar ke jaringan).</li>
                    <li><strong>Sign (Tanda Tangan):</strong> Tulis pesan dan klik Sign. Sistem menggunakan Private Key Anda untuk membuat kode unik (Signature) dari pesan tersebut.</li>
                    <li><strong>Verify (Verifikasi):</strong> Sistem menggunakan Public Key Anda untuk mengecek: Apakah pesan ini benar-benar ditulis oleh pemilik Private Key? Apakah pesan diubah di tengah jalan?</li>
                </ol>

                <h3>Konsep Teknis: Kriptografi Asimetris</h3>
                <p>Menggunakan algoritma <strong>ECDSA (Elliptic Curve Digital Signature Algorithm)</strong>.</p>
                <ul>
                    <li><strong>Autentikasi:</strong> Membuktikan bahwa pengirim adalah pemilik asli akun/dompet.</li>
                    <li><strong>Integritas:</strong> Jika pesan diubah satu karakter saja setelah ditandatangani, verifikasi akan gagal.</li>
                    <li><strong>Non-Repudiation:</strong> Pengirim tidak bisa menyangkal (mengelak) bahwa dia yang mengirim pesan, karena hanya dia yang punya kunci rahasianya.</li>
                </ul>
            </section>
        </div>
    </div>
    <script src="js/main.js"></script>
    <script src="js/ecc_logic.js"></script>
</body>
</html>